@model IEnumerable<Proyecto_Tickets.INCIDENTE>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table  table-striped table-hover table-responsive ">
    <tr>
        <th>
            @Html.DisplayName("Asunto")
        </th>
        <th>
            @Html.DisplayName("Descripcion")
        </th>
        <th>
            @Html.DisplayName("Creacion")
        </th>
        <th>
            @Html.DisplayName("Finalizacion")
        </th>
        <th>
            @Html.DisplayName("Duracion")
        </th>
        <th>
            @Html.DisplayName("Motivo")
        </th>
        <th>
            @Html.DisplayName("Origen")
        </th>
        <th>
            @Html.DisplayName("Categoria")
        </th>
        <th>
            @Html.DisplayName("Estado")
        </th>
        <th>
            @Html.DisplayName("Prioridad")
        </th>
        <th>
            @Html.DisplayName("Usuario")
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.NOMBRE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DESCRIPCION)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FECHA_CREACION)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FECHA_ACTUALIZACION)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DURACION)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.MOTIVO_CIERRE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CANAL_ORIGEN.NOMBRE_ORIGEN)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CATEGORIA.NOMBRE_CATEGORIA)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ESTADO.NOMBRE_ESTADO)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PRIORIDAD.NOMBRE_PRIORIDAD)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.USUARIO.NOMBRE)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.ID_INCIDENTE }) |
                @Html.ActionLink("Details", "Details", new { id = item.ID_INCIDENTE }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.ID_INCIDENTE })
            </td>
        </tr>
    }

</table>
<div class="body-ticket">
    <div class="grid-body">
        <h2>Tickets</h2>
        <hr />

        <button type="button"
                class="btn btn-success "
                data-toggle="modal"
                data-target="#newTicket">
            Nuevo ticket
        </button>
        <div class="modal fade"
             id="newTicket"
             tabindex="-1"
             role="dialog"
             aria-labelledby="newTicket"
             aria-hidden="true">
            <div class="modal-wrapper">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header bg-blue">
                            <button type="button"
                                    class="close"
                                    data-dismiss="modal"
                                    aria-hidden="true">
                                ×
                            </button>
                            <h4 class="modal-title">
                                <i class="fa fa-pencil"></i> Crear Nuevo Ticket
                            </h4>
                        </div>
                        <form action="#" method="post">
                            <div class="modal-body">
                                <div class="form-group">
                                    <input name="subject"
                                           type="text"
                                           class="form-control"
                                           placeholder="Subject" />
                                </div>
                                <div class="form-group">
                                    <input name="department"
                                           type="text"
                                           class="form-control"
                                           placeholder="Department" />
                                </div>
                                <div class="form-group">
                                    <textarea name="message"
                                              class="form-control"
                                              placeholder="Please detail your issue or question"
                                              style="height: 120px"></textarea>
                                </div>
                                <div class="form-group">
                                    <input type="file" name="attachment" />
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button"
                                        class="btn btn-default"
                                        data-dismiss="modal">
                                    <i class="fa fa-times"></i> Discard
                                </button>
                                <button type="submit" class="btn btn-primary pull-right">
                                    <i class="fa fa-pencil"></i> Create
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="padding"></div>
        <div class="row">
            <div class="col-md-12">

                <!--LISTADO-->

                @foreach (var item in Model)
                {
                    <ul class="list-group fa-padding">

                        <li class="list-group-item">
                            <div class="media">
                                <i class="fa fa-cog pull-left"></i>
                                <div class="media-body">
                                    Asunto: <strong>@Html.DisplayFor(modelItem => item.NOMBRE)</strong>
                                    <span class="label label-primary">
                                        @Html.DisplayFor(modelItem => item.PRIORIDAD.NOMBRE_PRIORIDAD)
                                    </span>
                                    <span class="number pull-right">@Html.DisplayFor(modelItem => item.ESTADO.NOMBRE_ESTADO)</span>
                                    <br />
                                    <br />
                                    <p class="info">
                                        Creado por: <strong> @Html.DisplayFor(modelItem => item.USUARIO.NOMBRE) </strong>
                                        &nbsp | &nbsp &nbsp Fecha de creacion: <strong>  @Html.DisplayFor(modelItem => item.FECHA_CREACION)</strong>
                                        &nbsp | &nbsp &nbsp Categoria: <i class="fa fa-comments"></i> <strong>@Html.DisplayFor(modelItem => item.CATEGORIA.NOMBRE_CATEGORIA)</strong>
                                    </p>

                                    <div class="pull-right">
                                        @Html.ActionLink("Ver", "#", new { id = item.ID_INCIDENTE }, new { @data_toggle = "modal", @data_target = "#issue", @class = " btn btn-info" })
                                        @Html.ActionLink("Responder", "Edit", new { id = item.ID_INCIDENTE }, new { @class = " btn btn-warning" })
                                        @Html.ActionLink("Eliminar", "Delete", new { id = item.ID_INCIDENTE }, new { @class = " btn btn-danger" })
                                    </div>
                                </div>
                            </div>
                        </li>

                    </ul>


                }
                <!--FIN LISTADO-->



            </div>
        </div>
    </div>

</div>

<div class="modal fade"
     id="issue"
     tabindex="-1"
     role="dialog"
     aria-labelledby="issue"
     aria-hidden="true">
    <div class="modal-wrapper">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-blue">
                    <button type="button"
                            class="close"
                            data-dismiss="modal"
                            aria-hidden="true">
                        ×
                    </button>
                    <h4 class="modal-title">
                        <i class="fa fa-cog"></i> Ticket
                        closes
                    </h4>
                </div>
                <form action="#" method="post">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-2">
                                <img src="assets/img/user/avatar01.png"
                                     class="img-circle"
                                     alt=""
                                     width="50" />
                            </div>
                            <div class="col-md-10">
                                <p>
                                    Issue <strong></strong> opened by
                                    5 hours ago
                                </p>
                                <p>
                                    Lorem ipsum dolor sit amet, consectetur adipisicing
                                    elit, sed do eiusmod tempor incididunt ut labore et
                                    dolore magna aliqua. Ut enim ad minim veniam, quis
                                    nostrud exercitation ullamco laboris nisi ut aliquip ex
                                    ea commodo consequat.
                                </p>
                                <p>
                                    Duis aute irure dolor in reprehenderit in voluptate
                                    velit esse cillum dolore eu fugiat nulla pariatur.
                                    Excepteur sint occaecat cupidatat non proident, sunt in
                                    culpa qui officia deserunt mollit anim id est laborum.
                                </p>
                            </div>
                        </div>
                        <div class="row support-content-comment">
                            <div class="col-md-2">
                                <img src="assets/img/user/avatar02.png"
                                     class="img-circle"
                                     alt=""
                                     width="50" />
                            </div>
                            <div class="col-md-10">
                                <p>
                                    Posted by <a href="#">ehernandez</a> on 16/06/2014 at
                                    14:12
                                </p>
                                <p>
                                    Duis aute irure dolor in reprehenderit in voluptate
                                    velit esse cillum dolore eu fugiat nulla pariatur.
                                    Excepteur sint occaecat cupidatat non proident, sunt in
                                    culpa qui officia deserunt mollit anim id est laborum.
                                </p>
                                <a href="#"><span class="fa fa-reply"></span> &nbsp;Post a reply</a>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button"
                                class="btn btn-default"
                                data-dismiss="modal">
                            <i class="fa fa-times"></i> Close
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>